<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Chemistrry: notice</title>
        {% include 'navi.html'%}
        <h1 style="text-align:center">공지사항 게시글 목록</h1>
        <style>
            table {
                margin-right:auto;
                margin-left:auto;
            }

            #paging {
                text-decoration: none;
                list-style: none;
                margin-left: 3px;
                clear:both;
            }
        </style>
    </head>

    <body>
        <div id="content" style="text-align:center">
            <div class="row1">
                <form method="post" action=""> <!-- action을 비워두면 자기 자신한테 간다.-->
                    {% csrf_token %}
                    <table class="table table-striped" style="text-align:center">
                        <thead class="thead-dark">
                            <tr>
                                    <td>글번호</td>
                                    <td>제목</td> <!-- 이름을 누르면 이름의 idx를 담아서 detail로 이동-->
                                    <td>작성자</td>
                                    <td>작성시간</td>

                            </tr>
                        </thead>
                        <tbody>
                            {% for hang in notice_list %}
                            <tr>
                                <td>{{hang.0}}</td>
                                <td><a href="{% url 'notice:showpostdetail' post_seq=hang.0%}">{{hang.1}}</a></td>
                                <td>{{hang.2}}</td>
                                <td>{{hang.3}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        <tfoot>
                            <tr>
                                <th colspan="5" class="text-center">
                                    <input type="hidden" name="cur_page" value="{{addr_list.number}}">
<div class="row">
  <div class="col-12">
    <nav>
      <ul id="paging">
        {% if page > 1 %}
        <li>
        <a href="?page={{page}}">Previous</a> <!-- 어떤 경로던간에 뒤에 얻어온 다음 페이지의 번호를 page에 담아 보낸다.-->
        </li>
        {% else %} <!--다음페이지가 없다면 아무 링크도 걸지 않는다. -->
        <li>Previous</li>
        {% endif %}
        <!-- page loop -->
        {{page}}
        {% for page_number in page_list %}
        {% if page_number == page %}
          <li>[{{page_number}}]</li>
        {% else %}
          <li>[<a href="?page={{page_number}}">{{page_number}}</a>]</li>
        {% endif %}
        {% endfor %}
        <!-- next page -->
        {% if page < tot_page %}
          <li>
            <a href="?page='{{page}}+1'">Next</a>
          </li>
        {% else %}
          <li>
            Next
          </li>
        {% endif %}
        <li style="float:right">
          CurrentPage: {{page}}
          / Total Page : {{tot_page}}
        </li>
      </ul>
    </nav>
  </div>
</div>
                                    <input type="text" name="searchValue" id="searchValue">
                                    <input type="submit" value="search">
                                    <input type="button" style="float:right" value="전체 목록" id="addrListBtn" >
                                </th>
                            </tr>
                            <tr>
                                <th colspan="5" class="text-center">
                                    <input type="button" value="글쓰기" id="wrtBtn" name="wrtBtn">
                                </th>
                            </tr>
                        </tfoot>
                    </table>
                </form>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            $(function(){
                $('#wrtBtn').click(function(){
                    location = '/notice/showpostwrite';
                });
                $('#addrListBtn').click(function(){
                    location="/notice/showpostlist"
                });
            });
        </script>
    </body>
</html>